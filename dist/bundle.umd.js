!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("turmeric-utils"),require("game_grid")):"function"==typeof define&&define.amd?define("connect_four_functional",["exports","turmeric-utils","game_grid"],e):e(n.connect_four_functional=n.connect_four_functional||{},n.turmericUtils,n.game_grid)}(this,function(n,e,r){"use strict";var t=e.collections.addMap,o=e.collections.get,u=function(n,e){return t(n)(e)(new Map(o(n)(e)))},i=e.collections.spreadK,a=function(n){return new Map(n)},c=a,l=function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.reduce(u,c())},f=function(n){return i(c(n))},d=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.assign(r.node(n,e),{player:t})},s=function n(e){var r=e.player,n=void 0===r?null:r;return n},p=function(n){var e=n.player,r=void 0===e?null:e;return null===r},v=function(n){var e=n.player;return function(n){var r=n.player;return e===r}},m=Object.freeze({default:d,player:s,isFree:p,samePlayer:v}),y=function(){function n(n,e){var r=[],t=!0,o=!1,u=void 0;try{for(var i,a=n[Symbol.iterator]();!(t=(i=a.next()).done)&&(r.push(i.value),!e||r.length!==e);t=!0);}catch(n){o=!0,u=n}finally{try{!t&&a.return&&a.return()}finally{if(o)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(n){if(Array.isArray(n)){for(var e=0,r=Array(n.length);e<n.length;e++)r[e]=n[e];return r}return Array.from(n)},h=e.collections.flatten,w=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return h(n)(e)},b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return r.genNodes(n,e).map(function(n){return d(n.column,n.row)})},C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return l.apply(void 0,g(b(n,e)))},M=function(n){return n.find(p)},_=function(n){return n.some(p)},j=function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return f(n).filter(v({player:e}))}},O=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;return function(e){return l.apply(void 0,g(j(n)(e)))}},A=function(n){return[r.colComponents,r.negComponents,r.posComponents,r.rowComponents].map(function(e){return e(n)}).reduce(w,[])},S=function(n){return(new Map).set("row",r.rowComponents(n)).set("col",r.colComponents(n)).set("pos",r.posComponents(n)).set("neg",r.negComponents(n))},x=function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return e.size>n}},z=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return A(n).some(x(e))},N=Object.freeze({default:l,genNodes:b,initNodes:C,next:M,hasFree:_,nodesByPlayer:j,playerGraph:O,allComps:A,splitComps:S,moreThan:x,winComp:z}),P={name:"",score:0},B=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{name:n,score:e}},k=function n(e){var n=e.name;return n},q=function n(e){var n=e.score;return n},F=function(n){return n.wins=0},I=function(n){var e=n.score;return++e},T=function(n){var e=n.score;return--e},E=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e&&Object.assign(e,{player:n})}},G=Object.freeze({playerInit:P,default:B,name:k,score:q,resetScore:F,incrementScore:I,decrementScore:T,claim:E}),K=e.collections.addBinMap,U=e.collections.spread,D=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;return function(e){return U(n).map(function(n){var r=y(n,2),t=r[0],o=r[1],u=void 0===o?t:o;return[t,e(u)]}).reduce(K,new Map)}},H=Object.freeze({Board:N,Node:m,Player:G,board:l,node:d,player:B,kvMap:D});n.default=H,n.Board=N,n.Node=m,n.Player=G,n.board=l,n.node=d,n.player=B,n.kvMap=D,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=bundle.umd.js.map
