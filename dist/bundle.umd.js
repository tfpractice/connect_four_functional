!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("fenugreek-collections"),require("graph-curry"),require("game_grid")):"function"==typeof define&&define.amd?define("connect_four_functional",["exports","fenugreek-collections","graph-curry","game_grid"],r):r(n.connect_four_functional=n.connect_four_functional||{},n["fenugreek-collections"],n["graph-curry"],n.game_grid)}(this,function(n,r,e,t){"use strict";var u=t.Node.column,o=t.Node.row,i=t.Node.node,c=t.Node.id,f=Object.assign({},i(),{player:null}),a=function(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.assign({},i(n,r),{player:e})},l=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:f).player;return n},s=function(n){return a(u(n),o(n),l(n))},d=function(n){return function(r){return a(u(r),o(r),n)}},p=function(n){return!!n&&null==l(n)},y=function(n){return function(r){return p(r)?d(n)(r):r}},v=function(n){return function(r){return l(n)===l(r)}},m=Object.freeze({node:a,player:l,copy:s,setPlayer:d,isFree:p,claim:y,unClaim:function(n){return d(null)(n)},samePlayer:v,sameID:function(n){return function(r){return c(n)===c(r)}}}),g={name:"",score:0,id:null},h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{name:n,score:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,id:arguments.length>2&&void 0!==arguments[2]?arguments[2]:n}},P=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:g).name;return n},b=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:g).score;return n},N=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:g).id;return n},C=function(n){return function(r){return h(P(r),n,N(r))}},j=function(n){return function(r){return r.id===n}},I=function(n){return function(r){return N(n)===N(r)}},_=function(n){return function(r){return I(n)(r)?Object.assign({},r,n):r}},x=C(0),G=Object.freeze({playerInit:g,player:h,name:P,score:b,id:N,copy:function(n){return h(P(n),b(n),N(n))},setName:function(n){return function(r){return h(n,b(r),N(r))}},setID:function(n){return function(r){return h(P(r),b(r),n)}},setScore:C,hasID:j,sameID:I,updatePlayer:_,resetScore:x,incrementScore:function(n){return C(b(n)+1)(n)},decrementScore:function(n){return C(b(n)-1)(n)},claim:function(n){return y(N(n))}}),O=t.Compare.samePos,S=function(n){return r.spread(n).reverse().find(p)},w=function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.filter(n)(v({player:e}))}},A=function(n){return function(e){return r.asSet(e).size>n}},z=function(n){return function(e){return r.some(e)(A(n))}},D=function(n){return function(e){return r.filter(e)(A(n))}},F=function(n){return function(r){return function(e){return r(e)?n:e}}},k=function(n){return F(n)(O(n))},q=function(n){return function(e){return r.map(e)(k(n))}},E=Object.freeze({nextFree:function(n){return r.spread(n).find(p)},lastFree:S,hasFree:function(n){return r.some(n)(p)},byPlayer:w,exceeds:A,anyExceed:z,byExcess:D,callIf:function(n){return function(r){return function(e){return r(e)?n(e):e}}},repIf:F,repPos:k,repID:function(n){return F(n)(O(n))},replace:q}),W=function(){function n(n,r){var e=[],t=!0,u=!1,o=void 0;try{for(var i,c=n[Symbol.iterator]();!(t=(i=c.next()).done)&&(e.push(i.value),!r||e.length!==r);t=!0);}catch(n){u=!0,o=n}finally{try{!t&&c.return&&c.return()}finally{if(u)throw o}}return e}return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return n(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),B=function(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)},M=e.Graph.graph,T=e.Graph.nodes,H=t.Grid.genNodes,J=t.Components.omniComps,K=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return H(n,r).map(s)},L=function(n){return function(r){return w(T(n))(N(r))}},Q=Object.freeze({genNodes:K,board:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return M.apply(void 0,B(K(n,r)))},playerNodes:L,playerGraph:function(n){return function(r){return M.apply(void 0,B(L(n)(r)))}},hasWinComp:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return r.some(J(n))(A(e))},winComps:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return D(r)(J(n))}}),R=e.Graph.graph,U=t.Components.omniComps,V=t.Filter.byCol,X=[h("player0",0,0),h("player1",0,1)],Y=K(7,6),Z={column:0,nodes:K(),players:X,inPlay:!1,min:3},$=function(){return{players:arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,nodes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,column:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,inPlay:arguments.length>3&&void 0!==arguments[3]&&arguments[3],min:arguments.length>4&&void 0!==arguments[4]?arguments[4]:3}},nn=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z).column;return n},rn=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z).nodes;return n},en=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z).inPlay;return n},tn=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z).min;return n},un=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z).players;return n},on=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,r=W(n.players,2),e=r[0];r[1];return e},cn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,r=W(n.players,2),e=(r[0],r[1]);return e},fn=function(n){return function(r){return $(un(r),n,nn(r),en(r),tn(r))}},an=function(n){return function(r){return $(un(r),rn(r),nn(r),!!n,tn(r))}},ln=function(n){return function(r){return $(n,rn(r),nn(r),en(r),tn(r))}},sn=function(n){return V(rn(n))(nn(n))},dn=function(n){return S(sn(n))},pn=function(n){return an(!1)(n)},yn=function(n){return en(n)&&!!dn(n)},vn=function(n){return!yn(n)},mn=function(n){return ln([cn(n),on(n)])(n)},gn=function(n){return function(r){return w(rn(n))(N(r))}},hn=function(n){return function(r){return R.apply(void 0,B(gn(n)(r)))}},Pn=function(n){return function(r){return D(1)(U(hn(n)(r)))}},bn=function(n){return function(r){return z(tn(n))(Pn(n)(r))}},Nn=function(n){return un(n).find(bn(n))},Cn=function(n){return Nn(n)?pn(n):n},jn=function(n){return q(y(N(on(n)))(dn(n)))(rn(n))},In=function(n){return vn(n)?n:Cn(fn(jn(n))(n))},_n=Object.freeze({game:$,column:nn,nodes:rn,inPlay:en,min:tn,players:un,active:on,passive:cn,setNodes:fn,setColumn:function(n){return function(r){return $(un(r),rn(r),n,en(r),tn(r))}},setPlayState:an,setPlayers:ln,setMin:function(n){return function(r){return $(un(r),rn(r),nn(r),en(r),n)}},copy:function(n){return $(un(n),rn(n),nn(n),en(n),tn(n))},resetGame:function(n){return $(un(n))},board:function(n){return R.apply(void 0,B(rn(n)))},colNodes:sn,next:dn,start:function(n){return an(!0)(n)},stop:pn,canPlay:yn,locked:vn,toggleState:function(n){return an(!en(n))(n)},togglePlayers:mn,isActive:function(n){return function(r){return I(n)(on(r))}},playerNodes:gn,actNodes:function(n){return gn(n)(on(n))},passNodes:function(n){return gn(n)(cn(n))},playerGraph:hn,actGraph:function(n){return hn(n)(on(n))},passGraph:function(n){return hn(n)(cn(n))},playerComps:Pn,actComps:function(n){return Pn(n)(on(n))},passComps:function(n){return Pn(n)(cn(n))},isWinner:bn,winner:Nn,endIfWon:Cn,claimSwap:jn,claimNext:In,select:function(n){return vn(n)?n:mn(In(n))},playerByID:function(n){return function(r){return un(r).find(j(n))}},findPlr:function(n){return function(r){return un(r).find(I(n))}},hasPlr:function(n){return function(r){return un(r).some(I(n))}},mendPlr:function(n){return function(r){return ln(un(r).map(_(n)))(r)}},pushPlr:function(n){return function(r){return ln(un(r).concat(n))(r)}}});n.Board=Q,n.Filter=E,n.Game=_n,n.Node=m,n.Player=G,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=bundle.umd.js.map
